<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GoKite AI X Prasad_713. â€” Quiz Arena</title>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- IMPORTANT: ethers must load BEFORE script.js -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
</head>
<body>
  <div class="container">
    <header class="topbar">
      <div class="title">GoKite AI X <span class="accent">Prasad_713.</span></div>
      <div id="statusLine" class="status">Status: <span id="statusText">Idle</span></div>
    </header>

    <section class="panel" id="mainPanel">
      <div class="center">
        <button id="connectBtn" class="primary">Connect Wallet</button>
        <button id="joinBtn" class="primary" disabled>Join Arena (pay entry)</button>
      </div>

      <div id="walletInfo" class="muted"></div>

      <div id="discordArea" class="hidden">
        <label>Discord name (visible on leaderboard)</label>
        <input id="discordInput" placeholder="discord_user#1234" />
        <div class="center">
          <button id="saveDiscordBtn" class="primary">Save & Start Quiz</button>
        </div>
      </div>

      <div id="quizArea" class="hidden">
        <div id="questionBox" class="questionBox"></div>
        <div id="answers" class="answers"></div>
        <div class="center">
          <button id="prevQ" class="secondary">Previous</button>
          <button id="nextQ" class="secondary">Next</button>
        </div>
      </div>

      <div id="finishArea" class="hidden center">
        <button id="submitBtn" class="primary">Submit Score On-chain</button>
      </div>
    </section>

    <section class="panel" id="leaderboardPanel">
      <h3>Top 100 â€” Leaderboard (Discord names)</h3>
      <div id="yourRankArea" class="muted small center" style="margin-bottom:8px;">Your rank: Not yet submitted</div>
      <ul id="leaderboardList" class="leaderboard"></ul>
      <div class="center">
        <button id="refreshLb" class="secondary">Refresh Leaderboard</button>
      </div>
    </section>

    <!-- Admin Panel -->
    <section class="panel hidden" id="adminPanel">
      <h3>Admin Panel ðŸ”‘</h3>
      <div class="subpanel">
        <h4>Adjust Player Score</h4>
        <input id="adminPlayerDiscord" placeholder="Discord name" />
        <input id="adminNewScore" placeholder="New score" type="number" />
        <button id="adminUpdateScoreBtn" class="secondary">Update Score</button>
      </div>
      <div class="subpanel">
        <h4>Manage Questions</h4>
        <input id="adminQuestionText" placeholder="Question text" />
        <input id="adminOptionA" placeholder="Option A" />
        <input id="adminOptionB" placeholder="Option B" />
        <input id="adminCorrectOption" placeholder="Correct option index (0 or 1)" />
        <button id="adminAddQuestionBtn" class="secondary">Add Question</button>
      </div>
      <div class="subpanel">
        <button id="adminRefreshLb" class="secondary">Refresh Leaderboard</button>
        <button id="adminResetQuiz" class="secondary">Reset Quiz</button>
      </div>
    </section>

    <footer class="footer">
      <div>
        Admin password: <input id="adminPwd" type="password" placeholder="admin code" />
        <button id="adminBtn" class="secondary">Admin</button>
      </div>
      <div class="muted small">Built for GoKite AI testnet | UI palette: beige / tan / black</div>
    </footer>
  </div>

  <!-- Main app script -->
  <script src="script.js"></script>
</body>
</html>
